-- Create OWNER table
CREATE TABLE OWNER (
    OWNER_NUM CHAR(5) PRIMARY KEY NOT NULL,
    LAST_NAME VARCHAR(20) NOT NULL,
    FIRST_NAME VARCHAR(20) NOT NULL,
    ADDRESS VARCHAR(100) NOT NULL,
    CITY VARCHAR(20) NOT NULL,
    STATE CHAR(2) NOT NULL,
    ZIP_CODE CHAR(5) NOT NULL
);

-- Insert owners
INSERT INTO OWNER VALUES('MO100','Moore','Elle-May','8006 W. Newport Ave.','Reno','NV','89508');
INSERT INTO OWNER VALUES('PA101','Patel','Makesh','7337 Sheffield St.','Seattle','WA','98119');
INSERT INTO OWNER VALUES('AK102','Aksoy','Ceyda','411 Griffin Rd.','Seattle','WA','98131');
INSERT INTO OWNER VALUES('CO103','Cole','Meerab','9486 Circle Ave.','Olympia','WA','98506');
INSERT INTO OWNER VALUES('KO104','Kowalczyk','Jakub','7431 S. Bishop St.','Bellingham','WA','98226');
INSERT INTO OWNER VALUES('SI105','Sims','Haydon','527 Primrose Rd.','Portland','OR','97203');
INSERT INTO OWNER VALUES('BU106','Burke','Ernest','613 Old Pleasant St.','Twin Falls','ID','83303');
INSERT INTO OWNER VALUES('RE107','Redman','Seth','7681 Fordham St.','Seattle','WA','98119');
INSERT INTO OWNER VALUES('LO108','Lopez','Janine','9856 Pumpkin Hill Ln.','Everett','WA','98213');
INSERT INTO OWNER VALUES('BI109','Bianchi','Nicole','7990 Willow Dr.','New York','NY','10005');
INSERT INTO OWNER VALUES('JO110','Jones','Ammarah','730 Military Ave.','Seattle','WA','98126');

-- Create PROPERTY table
CREATE TABLE PROPERTY (
    PROPERTY_ID SMALLINT PRIMARY KEY NOT NULL,
    OFFICE_NUM INT NOT NULL,
    ADDRESS VARCHAR(100) NOT NULL,
    SQR_FT SMALLINT NOT NULL,
    BDRMS INT NOT NULL,
    FLOORS INT NOT NULL,
    MONTHLY_RENT SMALLINT,
    OWNER_NUM CHAR(5) NOT NULL,
    FOREIGN KEY (OWNER_NUM) REFERENCES OWNER(OWNER_NUM)
);

-- Insert properties
INSERT INTO PROPERTY VALUES('1','1','30 West Thomas Rd.','1600','3','1',1400,'BU106');
INSERT INTO PROPERTY VALUES('2','1','782 Queen Ln.','2100','4','2',1900,'AK102');
INSERT INTO PROPERTY VALUES('3','1','9800 Sunbeam Ave.','1005','2','1',1000,'KO104');

-- Create OFFICE table
CREATE TABLE OFFICE (
    OFFICE_NUM INT PRIMARY KEY NOT NULL,
    OFFICE_NAME VARCHAR(20) NOT NULL,
    ADDRESS VARCHAR(100) NOT NULL,
    AREA VARCHAR(20) NOT NULL,
    CITY VARCHAR(20) NOT NULL,
    STATE CHAR(2) NOT NULL,
    ZIP_CODE CHAR(5) NOT NULL
);

-- Insert offices
INSERT INTO OFFICE VALUES('1','Main Office','1234 Elm St.','Downtown','Seattle','WA','98101');

-- Create SERVICE_CATEGORY table
CREATE TABLE SERVICE_CATEGORY (
    CATEGORY_NUM INT PRIMARY KEY NOT NULL,
    CATEGORY_DESCRIPTION VARCHAR(50) NOT NULL
);

-- Insert service categories
INSERT INTO SERVICE_CATEGORY VALUES('1','Plumbing');
INSERT INTO SERVICE_CATEGORY VALUES('2','Electrical');

-- Create SERVICE_REQUEST table
CREATE TABLE SERVICE_REQUEST (
    SERVICE_ID INT PRIMARY KEY NOT NULL,
    PROPERTY_ID SMALLINT NOT NULL,
    CATEGORY_NUMBER INT NOT NULL,
    OFFICE_ID INT NOT NULL,
    DESCRIPTION VARCHAR(100) NOT NULL,
    STATUS VARCHAR(20) NOT NULL,
    EST_HOURS INT NOT NULL,
    SPENT_HOURS INT NOT NULL,
    NEXT_SERVICE_DATE DATE,
    FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID),
    FOREIGN KEY (CATEGORY_NUMBER) REFERENCES SERVICE_CATEGORY(CATEGORY_NUM),
    FOREIGN KEY (OFFICE_ID) REFERENCES OFFICE(OFFICE_NUM)
);

-- Insert service requests
INSERT INTO SERVICE_REQUEST VALUES('1','1','1','1','Fix leaky faucet','Open',2,1,'2023-12-01');

-- Create RESIDENTS table
CREATE TABLE RESIDENTS (
    RESIDENT_ID INT PRIMARY KEY NOT NULL,
    FIRST_NAME VARCHAR(20) NOT NULL,
    SURNAME VARCHAR(20) NOT NULL,
    PROPERTY_ID SMALLINT NOT NULL,
    FOREIGN KEY (PROPERTY_ID) REFERENCES PROPERTY(PROPERTY_ID)
);

-- Insert residents
INSERT INTO RESIDENTS VALUES('1','John','Doe','1');
INSERT INTO RESIDENTS VALUES('2','Jane','Smith','2');
